<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../style.css">
  <title>Key Auth - Documentation</title>
  <style>
    /* === ACCORDION === */
    .accordion {
      background: var(--panel);
      color: var(--text);
      cursor: pointer;
      padding: 14px 20px;
      width: 100%;
      border: 1px solid #1f1f1f;
      border-radius: var(--radius);
      text-align: left;
      outline: none;
      font-size: 0.95rem;
      font-weight: 500;
      margin-bottom: 8px;
      transition: var(--transition);
    }
    .accordion:hover {
      background: var(--hover);
      color: var(--accent);
    }
    .accordion.active {
      background: var(--hover);
      color: var(--accent);
    }
    .panel {
      display: none;
      padding: 12px 20px;
      background: var(--bg);
      border-left: 3px solid var(--text);
      border-radius: var(--radius);
      margin-bottom: 8px;
    }
    pre {
      background: #111;
      padding: 10px;
      border-radius: var(--radius);
      overflow-x: auto;
      color: var(--text);
      font-size: 0.88rem;
    }
    code {
      background: #111;
      padding: 2px 4px;
      border-radius: 4px;
    }
    h3 {
      color: var(--accent);
      margin-top: 25px;
      margin-bottom: 10px;
    }
    ul {
      margin-left: 20px;
      margin-bottom: 15px;
    }

    .color{
      color: var(--accent);
    }

    .ncolor{
      color: var(--text);
    }
  </style>
</head>
<body>
  <!-- Sidebar -->
  <aside class="sidebar">
    <div>
      <div class="logo">Key Auth</div>
      <nav class="nav">
        <a href="./licenses.html"><div class="nav-item">Licenses</div></a>
        <a href="./users.html"><div class="nav-item">Users</div></a>
        <a href="./documentation.html"><div class="nav-item active">Documentation</div></a>
        <a href="./settings.html"><div class="nav-item">Settings</div></a>
      </nav>
    </div>
    <div class="footer">
      <a href="profile.html">
        <div class="footer">
          <img src="../src/images/akoo.jpg" alt="Avatar">
          <div class="footer-text">
            <h3>ak0ows</h3>
            <p>Tester Plan</p>
          </div>
        </div>
      </a>
    </div>
  </aside>

  <!-- Main -->
  <main class="main">
    <section class="content">
      <h2>Documentação da API</h2>
      <p class="color"><strong>URL Base da API:</strong> <code class="ncolor">http://localhost:3000/api</code></p>

      <!-- Usuários -->
      <h3>Usuários</h3>

      <button class="accordion">Criar usuário (POST /users)</button>
      <div class="panel">
        <p><strong>Parâmetros (JSON body):</strong></p>
        <pre>{
  "name": "string",
  "pass": "string"
}</pre>
        <p><strong>Respostas:</strong></p>
        <ul>
          <li><code>201 Created</code> - Retorna o usuário criado</li>
          <li><code>400 Bad Request</code> - Parâmetros ou tipos inválidos</li>
          <li><code>409 Conflict</code> - Nome de usuário já existe</li>
        </ul>
      </div>

      <button class="accordion">Listar todos os usuários (GET /users)</button>
      <div class="panel">
        <pre>[
  {
    "id": 1,
    "name": "usuario",
    "pass": "senha",
    "createdAt": "2025-11-02T20:48:00.000Z",
    "avatarUrl": "url_avatar"
  }
]</pre>
      </div>

      <button class="accordion">Obter usuário por ID (GET /users/:id)</button>
      <div class="panel">
        <ul>
          <li><code>200 OK</code> - Retorna o usuário</li>
          <li><code>404 Not Found</code> - Usuário não encontrado</li>
        </ul>
      </div>

      <button class="accordion">Obter usuário por nome e senha (GET /users/name/:name?pass=senha)</button>
      <div class="panel">
        <ul>
          <li><code>200 OK</code> - Retorna o usuário</li>
          <li><code>404 Not Found</code> - Usuário não encontrado ou senha incorreta</li>
        </ul>
      </div>

      <button class="accordion">Atualizar usuário (PUT /users/:id)</button>
      <div class="panel">
        <pre>{
  "name": "novo_nome",
  "pass": "nova_senha"
}</pre>
        <ul>
          <li><code>200 OK</code> - Usuário atualizado</li>
          <li><code>400 Bad Request</code> - Nome ou senha inválidos</li>
          <li><code>404 Not Found</code> - Usuário não encontrado</li>
          <li><code>409 Conflict</code> - Nome de usuário já existe</li>
        </ul>
      </div>

      <button class="accordion">Deletar usuário (DELETE /users/:id)</button>
      <div class="panel">
        <ul>
          <li><code>204 No Content</code> - Usuário deletado</li>
          <li><code>404 Not Found</code> - Usuário não encontrado</li>
        </ul>
      </div>

      <button class="accordion">Enviar avatar (POST /users/:id/avatar)</button>
      <div class="panel">
        <p>Form-data: <code>avatar</code> (JPEG, PNG ou GIF)</p>
        <ul>
          <li><code>200 OK</code> - Retorna URL do avatar enviado</li>
          <li><code>400 Bad Request</code> - Arquivo não enviado ou tipo inválido</li>
          <li><code>404 Not Found</code> - Usuário não encontrado</li>
          <li><code>500 Internal Server Error</code> - Erro no upload</li>
        </ul>
      </div>

      <!-- Licenças -->
      <h3>Licenças</h3>

      <button class="accordion">Criar licença (POST /licenses)</button>
      <div class="panel">
        <pre>{
  "userId": "1",
  "type": "basic|premium|pro",
  "durationDays": 30
}</pre>
        <ul>
          <li><code>201 Created</code> - Retorna a licença criada</li>
          <li><code>400 Bad Request</code> - Parâmetros ou tipos inválidos</li>
          <li><code>404 Not Found</code> - Usuário não encontrado</li>
        </ul>
      </div>

      <button class="accordion">Listar todas as licenças (GET /licenses)</button>
      <div class="panel"></div>

      <button class="accordion">Listar licenças por usuário (GET /licenses/user/:userId)</button>
      <div class="panel"></div>

      <button class="accordion">Obter licença por chave (GET /licenses/:licenseKey)</button>
      <div class="panel">
        <ul>
          <li><code>200 OK</code> - Retorna a licença</li>
          <li><code>404 Not Found</code> - Licença não encontrada</li>
        </ul>
      </div>

      <button class="accordion">Atualizar licença (PATCH /licenses/:licenseKey)</button>
      <div class="panel">
        <pre>{
  "type": "basic|premium|pro",
  "durationDays": 10
}</pre>
        <ul>
          <li><code>200 OK</code> - Licença atualizada</li>
          <li><code>400 Bad Request</code> - Tipo ou duração inválida</li>
          <li><code>404 Not Found</code> - Licença não encontrada</li>
        </ul>
      </div>

      <button class="accordion">Deletar licença (DELETE /licenses/:licenseKey)</button>
      <div class="panel">
        <ul>
          <li><code>204 No Content</code> - Licença deletada</li>
          <li><code>404 Not Found</code> - Licença não encontrada</li>
        </ul>
      </div>
    </section>
  </main>

  <script>
    const accordions = document.querySelectorAll(".accordion");
    accordions.forEach(acc => {
      acc.addEventListener("click", function() {
        this.classList.toggle("active");
        const panel = this.nextElementSibling;
        panel.style.display = panel.style.display === "block" ? "none" : "block";
      });
    });
  </script>
</body>
</html>